{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matth\\\\Documents\\\\Projects\\\\extremelypure\\\\client\\\\src\\\\components\\\\Return.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Return = () => {\n  _s();\n  const [status, setStatus] = useState(null);\n  const [customerEmail, setCustomerEmail] = useState('');\n  useEffect(() => {\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    const sessionId = urlParams.get('session_id');\n    fetch(`http://localhost:3001/stripe/session-status?session_id=${sessionId}`, {\n      method: 'GET',\n      credentials: 'include'\n    }).then(res => res.json()).then(data => {\n      setStatus(data.status);\n      setCustomerEmail(data.customer_email);\n      console.log(\"Checkout data:\", data);\n      console.log(data.user_email);\n    });\n  }, []);\n\n  //Save an order to the database where orders.user_id = users.id\n  // orderID state is then set\n  //Then save each item as an order item where order_items.order_id = orderID state\n\n  if (status === 'open') {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/checkout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this);\n  }\n  if (status === 'complete') {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"success\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"We appreciate your business! A confirmation email will be sent to \", customerEmail, \". If you have any questions, please email \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"mailto:orders@example.com\",\n          children: \"orders@example.com\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 53\n        }, this), \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this);\n  }\n  return null;\n};\n_s(Return, \"ClZu4OI/xpscNhWnoQDjGbGC4f8=\");\n_c = Return;\nexport default Return;\nvar _c;\n$RefreshReg$(_c, \"Return\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Navigate","jsxDEV","_jsxDEV","Return","_s","status","setStatus","customerEmail","setCustomerEmail","queryString","window","location","search","urlParams","URLSearchParams","sessionId","get","fetch","method","credentials","then","res","json","data","customer_email","console","log","user_email","to","fileName","_jsxFileName","lineNumber","columnNumber","id","children","href","_c","$RefreshReg$"],"sources":["C:/Users/Matth/Documents/Projects/extremelypure/client/src/components/Return.js"],"sourcesContent":["import React, {  useState, useEffect } from \"react\";\r\nimport {\r\n    BrowserRouter as \r\n    Navigate\r\n  } from \"react-router-dom\";\r\n\r\nconst Return = () => {\r\n    const [status, setStatus] = useState(null);\r\n    const [customerEmail, setCustomerEmail] = useState('');\r\n  \r\n    useEffect(() => {\r\n      const queryString = window.location.search;\r\n      const urlParams = new URLSearchParams(queryString);\r\n      const sessionId = urlParams.get('session_id');\r\n  \r\n      fetch(`http://localhost:3001/stripe/session-status?session_id=${sessionId}`, {\r\n        method: 'GET',\r\n        credentials: 'include'\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setStatus(data.status);\r\n          setCustomerEmail(data.customer_email);\r\n          console.log(\"Checkout data:\", data);\r\n          console.log(data.user_email);\r\n        });\r\n    }, []);\r\n\r\n    //Save an order to the database where orders.user_id = users.id\r\n    // orderID state is then set\r\n    //Then save each item as an order item where order_items.order_id = orderID state\r\n  \r\n    if (status === 'open') {\r\n      return (\r\n        <Navigate to=\"/checkout\" />\r\n      )\r\n    }\r\n  \r\n    if (status === 'complete') {\r\n      return (\r\n        <section id=\"success\">\r\n          <p>\r\n            We appreciate your business! A confirmation email will be sent to {customerEmail}.\r\n  \r\n            If you have any questions, please email <a href=\"mailto:orders@example.com\">orders@example.com</a>.\r\n          </p>\r\n        </section>\r\n      )\r\n    }\r\n  \r\n    return null;\r\n  }\r\n\r\n  export default Return;"],"mappings":";;AAAA,OAAOA,KAAK,IAAKC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACnD,SACIC,aAAa,IACbC,QAAQ,QACH,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5B,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACU,aAAa,EAAEC,gBAAgB,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAEtDC,SAAS,CAAC,MAAM;IACd,MAAMW,WAAW,GAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM;IAC1C,MAAMC,SAAS,GAAG,IAAIC,eAAe,CAACL,WAAW,CAAC;IAClD,MAAMM,SAAS,GAAGF,SAAS,CAACG,GAAG,CAAC,YAAY,CAAC;IAE7CC,KAAK,CAAE,0DAAyDF,SAAU,EAAC,EAAE;MAC3EG,MAAM,EAAE,KAAK;MACbC,WAAW,EAAE;IACf,CAAC,CAAC,CACCC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAK;MACdjB,SAAS,CAACiB,IAAI,CAAClB,MAAM,CAAC;MACtBG,gBAAgB,CAACe,IAAI,CAACC,cAAc,CAAC;MACrCC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEH,IAAI,CAAC;MACnCE,OAAO,CAACC,GAAG,CAACH,IAAI,CAACI,UAAU,CAAC;IAC9B,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA;EACA;;EAEA,IAAItB,MAAM,KAAK,MAAM,EAAE;IACrB,oBACEH,OAAA,CAACF,QAAQ;MAAC4B,EAAE,EAAC;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAE/B;EAEA,IAAI3B,MAAM,KAAK,UAAU,EAAE;IACzB,oBACEH,OAAA;MAAS+B,EAAE,EAAC,SAAS;MAAAC,QAAA,eACnBhC,OAAA;QAAAgC,QAAA,GAAG,oEACiE,EAAC3B,aAAa,EAAC,4CAEzC,eAAAL,OAAA;UAAGiC,IAAI,EAAC,2BAA2B;UAAAD,QAAA,EAAC;QAAkB;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,KACpG;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC;EAEd;EAEA,OAAO,IAAI;AACb,CAAC;AAAA5B,EAAA,CA7CGD,MAAM;AAAAiC,EAAA,GAANjC,MAAM;AA+CV,eAAeA,MAAM;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}